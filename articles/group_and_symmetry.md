@[TOC]

## 介绍

群公理：
群是带有乘法（对称的复合）的集合，其乘法满足
- 结合律 $(ab)c = a(bc)$
- 有恒等元（平凡对称）$1a = a1 = a$
- 有逆元 $a^{-1}a = aa^{-1} = 1$

群论的目标
- 分类所有的群（在同构的意义下）

  几乎是不可能的任务，但我们至少可以尝试分类那些有趣的群

- 分类一个群可表为某对象之对称性的所有方式，这称为表示论
    - 置换表示
    - 线性表示

我们如何知道群没有其他公理了呢？
实际上，任何满足上述三个公理的集合一定是某对象的一个对称性，这被称为凯莱定理。

## 凯莱定理

看待一个群有两种方式：
- 群是某对象的对称性的集合（具体群）
- 群是满足上述三公理的集合（抽象群）

由具体群到抽象群的过程，已被群公理所表述。
由抽象群到具体群，则可由凯莱定理来表述。

为了表述凯莱定理，我们需要引入群作用的概念。
群$G$于集合$S$上的左作用是一个映射$\alpha_L: G\times S \to S$，满足
- $\alpha_L(gh, s) = \alpha_L(g, \alpha_L(h, s))$
- $\alpha_L(1, s) = s$

当$G$作用于其自身（$S = G$）时，我们定义左平移作用$l_g(s) = gs$，这显然满足上述两个条件。于是$G$是$G$的所有置换的一个子群。具体来说：
- $\forall g \in G$，左平移映射$l_g: G \to G$是$G$的一个置换（双射）
- 映射$g \mapsto l_g$是一个单同态$G \to \mathrm{Sym}(G)$，所以它定义了一个从$G$到$\mathrm{Sym}(G)$的子群的同构

类似地，我们可以定义右作用$\alpha_R: S\times G \to S$，满足
- $\alpha_R(s, gh) = \alpha_R(\alpha_R(s, g), h)$
- $\alpha_R(s, 1) = s$

我们定义右平移作用$r_g(s) = sg$. 注意左平移一般不同于右平移，因为给定群$G$的两个元素$s, g$，一般来说$sg \ne gs$. 如果$sg = gs$我们称这两个元素是交换的。如果群$G$的任意两个元素都是交换的，我们就称群$G$是交换的或阿贝尔的。

注意$G$于其自身的左作用保持$G$的右作用，即
$$l_g(r_h(s)) = g(sh) = (gs)h = r_h(l_g(s))$$
或者说下图是交换的
<script type="text/tikz">
  \usetikzlibrary{cd}
  \begin{document}
  \begin{tikzcd}
    & s \arrow[r, "r_h"] \arrow[ld, "l_g"'] & sh \arrow[ld, "l_g"] \\
    gs \arrow[r, "r_h"] & gsh &
  \end{tikzcd}
  \end{document}
</script>

于是我们可以将$G$看作是带有额外结构（右作用）的一个对象（$G$视作集合）的所有对称性（在左作用下不变）。
另一方面，假设$f$是$G$的保持右作用的一个对称性，则$f(s) = f(1s) = f(1)s$. 即$f$不外就是左乘$f(1)$，因此是$G$的一个元素。

注意$G$的这个对称性不保持群乘法，即一般情况下$g(ab) \ne g(a)g(b)$.

总之，群的公理抓住了“对象的对称性”这一概念。即给定某对象，存在一个以其对称性为元素的群；给定一个群，也存在一个对象在该群的作用下保持不变。实际上，我们有八种群于其自身的作用，如下表所述

| 左作用（$l_g$） | 右作用（$r_g$） | 说明 |
| ----- | ----- | --- |
| $s$ | $s$ | 平凡作用 |
| $gs$ | $sg$ | 平移作用 |
| $sg^{-1}$ | $g^{-1}s$ | 不常见，没有名字？ |
| $gsg^{-1}$ | $g^{-1}sg$ | 自伴/共轭作用 |

读者可以验证，以上八种作用均符合左/右作用的定义。

## 群同态

群同态是一个映射$f: G \to H$，满足$f(ab) = f(a)f(b)$. 注意这蕴含$f(1) = 1$以及$f(a^{-1}) = (f(a))^{-1}$. 如果同态是一个双射，我们就称其为同构。如果同构是从$G$到其自身，我们就称之为自同构。自同构描述了群自身的对称性。此外同态$f$的核$\ker(f)$定义为$\{a \in G | f(a) = 1\}$. 以下给出一些群同态的例子。

- $\exp : (\R, +) \to \R^*$

    $\exp(x) = 1 + x + x^2 / 2 + \cdots$称为指数映射。

    这里我们用$(\R, +)$表示群$\R$上的乘法定义为实数加法。此外$\R^*$将$\R$中的$0$排除在外。我们有$\exp(x + y) = \exp(x)\exp(y)$，因此指数映射是一个同态。这个同态不是满射，因此它不是同构。但存在一个从$(\R, +)$到$\R^+$的同构$\exp : (\R, +) \to \R^+$，其逆称为对数映射。

- $\det : \mathrm{GL}_n(\R) \to \R^*$

    我们有$\det(AB) = \det(A)\det(B)$，因此行列式是一个同态。$\ker(\det) = \mathrm{SL}_n(\R)$.
    $\mathrm{GL}_n(\R)$称为$\R$上的一般线性群，而$\mathrm{SL}_n(\R)$称为$\R$上的特殊线性群。

- $f: \Z/4\Z \to (\Z/5\Z)^*$

    $f(a) = 2^a (\mathrm{mod} 5)$

    这可以看作指数映射在有限域上的情形，现在$f$是一个同构。
    
    注：$\Z/4\Z \simeq (\Z/5\Z)^*$中的元素是$\Z/5\Z$的自同构。
    例如：$g \mapsto 2g$是$\Z/5\Z$的一个自同构，其逆为$g \mapsto 3g$，因为$2\cdot 3g = 6g = g$.

- $f: \R \to \mathrm{S}^1$

    $f(\theta) = (\cos\theta, \sin\theta)$

    $\mathrm{S}^1$上的乘法定义为$(x_1, y_1)(x_2, y_2) = (x_1x_2 - y_1y_2, x_1y_2 + x_2y_1)$.
    于是我们有$f(\theta_1 + \theta_2) = f(\theta_1)f(\theta_2)$. $\ker(f) = 2\pi k, k \in \Z$.

- 从正八面体的旋转（24阶）到$S_3$（正八面体的3条对角线的置换，6阶）的映射

    其核为3个关于对角线的180度旋转加上平凡对称性。

## 拉格朗日定理

我们可以用拉格朗日定理来辅助小群的分类。拉格朗日定理说群$G$的子群$H$的阶必整除群$G$的阶。

推论：群$G$的元素$g$的阶（即使得$g^n = 1$的最小的正整数$n$）必整除$G$的阶。因为如果$g$的阶为$n$，则$\{1, g, g^2, \dots, g^{n - 1}\}$构成$G$的一个子群$H$，其阶为$n$.

推论：素数阶的群必为循环群。设有一群$G$，其阶为素数$p$，则其元素的阶必整除$p$，即为$1$或$p$.
若其元素的阶为$1$，则该元素为$1$，即$g = 1$. 否则，其元素的阶为$p$. 于是$G = \{1, g, g^2, \dots, g^{p - 1}\}$，所以$G$是循环群$\Z/p\Z$.

### 拉格朗日定理的证明

设$G$作用于集合$S$上，取$s \in S$，考虑$G_s = \{g \in G | gs = s\}$. $G_s$是$G$的一个子群，称为$G$关于$s$的稳定子群。
现在设$H$是$G$的一个子群，我们能否找到一个集合$S$，使得$H$恰是$G$关于$S$中的元素$s$的稳定子群呢？

设$G$作用于集合$S$上，取$s \in S$，$s$在$G$作用下的轨道是$S$的子集，定义为$\{gs \in S | g \in G\}$，记为$Gs$.
$G$作用下的任何集合都分裂为轨道，此时$S$中的两个元素称为是等价的，若存在一个$g \in G$将其中一个映为另一个。于是轨道就成为等价类。

$G$于$S$上的作用称为是传递的，如果$S$仅分裂为一个轨道。由于我们可将一个群的作用分裂为轨道，在轨道上该作用是传递的；则对我们大多数的目的来说，我们将仅考虑传递集合。

<aside>换一个角度看，也可以说gH是g在H作用下的轨道。陪集是轨道的一个例子。</aside>

现在假定$G$传递性地作用于$S$，取$s \in S$，令$H = G_s$，如何从$H$和$G$重构$S$呢？注意$S$中的其他元素$t$必定具有$t = gs$这样的形式，其中$g \in G$.
假定$g_1, g_2$都满足此条件，于是我们有$g_2^{-1}g_1s = s$，即$g_2^{-1}g_1 \in H$或者说$g_1 \in g_2H$.
其中形如$gH = \{gh \in G | h \in H\}$这样的集合称为子群$H$在$G$中的左陪集。

从$t = g_1s = g_2s$我们导出了$g_1H = g_2H$，于是我们有一个双射将$S$中的元素$t$映为$H$的陪集$t \mapsto \{g \in G| gs = t\} = g_1H$，其逆映射为$gH \mapsto gs$.
所以左陪集可被看作是$G$作用下的集合中的元素。当我们考虑右作用的时候，类似也可以考虑右陪集。

现在我们就将$S$构建为$H$的所有左陪集的集合。容易证明$H$任意两个左陪集要么是相等的，要么不相交。于是$G$是$H$的所有左陪集的不交并。
$G$于左陪集集合上的左作用定义为$g(g_1H) = (gg_1)H$，其中$g_1H$是$H$的某个左陪集。读者可以验证这个定义确实是一个群作用。

小结：若$G$作用于$S$上，我们就有$G$的一个子群$H = G_x$.
反之，若$H$是$G$的一个子群，我们就可以考虑$H$的所有左陪集的集合，而$G$恰作用于这个集合上。

<aside>这里我们用到了群的元素皆有逆这一事实。在半群中我们仍可以定义陪集，但它们就不一定有相同的大小了。</aside>

注意任意两个左陪集大小相同，要证明这一点我们只需要说明$\forall g \in G$，$gH$和$H$有相同的大小即可。
为此，我们可定义一个从$gH$到$H$的双射，$t \mapsto g^{-1}t$，其逆为$h \mapsto gh$.

至此我们也完成了拉格朗日定理的证明，因为$G$是$H$的所有左陪集的不交并，又所有左陪集都有相同的大小，自然我们就有$G$的阶等于$H$的阶乘以其左陪集的个数。

拉格朗日定理有很多应用，比如可以用来确定群的阶数。
考虑正二十面体的旋转对称性构成的群$G$，如何确定它的阶呢？

不妨固定它的一个顶点，于是我们得到一个子群$H$，容易看出这个子群的阶为5。
根据拉格朗日定理，$G$的阶是$H$的阶乘以其左陪集的个数（即顶点数12），于是我们得到60。
同理，也可以考虑固定它的一个面，得到一个3阶的子群，乘以20个面。
或者固定他的一个棱，得到一个2阶的子群，乘以30个棱。

拉格朗日定理的另一个应用是用来证明数论中的费马定理和欧拉定理。

费马定理是说$x^p \equiv x \mod p$. 从拉格朗日定理出发，既然$G$中元素$g$的阶整除$|G|$，我们就有$g^{|G|} = 1$. 考虑$G = (\Z / p\Z)^*$，其阶为$p - 1$；所以当$x \ne 0$时我们有$x^{p - 1} \equiv 1 \mod p$。于是$x^p \equiv x \mod p$ 即使在$x = 0$时也是成立的。

进一步地，我们有欧拉定理，即若$x \mod m$与$m > 0$互素，则$x^{\varphi(m)} \equiv m \mod m$. 其中$\varphi(m)$定义为$\mod m$意义下所有与$m$互素的整数的个数，称为欧拉$\varphi$函数。费马定理为此定理在$m = p$时的特例。

为证明欧拉定理，我们考虑$G = (\Z/m\Z)^*$，即$\mod m$意义下所有与$m$互素的整数，可以验证它们构成一个群。于是$x^{|G|} = x^{\varphi(m)} \equiv 1$，其中$x \in (\Z/m\Z)^*$，显然与$m$互素。

我们可以验证一下，例如$(\Z/12\Z)^* = \{1, 5, 7, 11\}$，$\varphi(12) = 4$. 我们有$1^4 \equiv 1, 5^4 \equiv 1, 7^4 \equiv 1, 11^4 \equiv 1$. 实际上，$1^2 \equiv 1, 5^2 \equiv 1, 7^2 \equiv 1, 11^2 \equiv 1$. 所以欧拉的结果实际上并不是最好的。

## 群的直积

接下来考虑阶为4的群。阶为4的群其元素的阶为1，2或4。如果其存在阶为4的元素$g$，则我们有$1, g, g^2, g^3$皆为其元素，于是它就是循环群$\Z/4\Z$.

反之，如果其不存在阶为4的元素，我们就有$x^2 = 1$或者说$x = x^{-1}, \forall x \in G$. 这意味着该群是一个阿贝尔群。这是因为$(xy)^2 = xyxy = 1 \Rightarrow yxy = x^{-1} = x \Rightarrow xy = y^{-1}x = yx$.

实际上对于所有满足$x^p = 1, \forall x \in G$的阿贝尔群$G$，其中$p$是某个素数，我们可以给出一个分类。
将群乘法取为$+$，则$G$可以看作是有限域（$p$个元素）$F_p = \Z/p\Z$上的矢量空间，满足$px = 0$。

作为矢量空间，我们有$G \simeq (F_p)^n$，而$n$维矢量空间在同构的意义下是唯一的，于是这样的$G$作为群也是唯一的，其阶为$p^n$. 它们被称为初等阿贝尔$p$-群，某种意义上是除循环群之外最简单的一类群了。

回到4阶群的分类，现在我们知道它们有两个，一是$\Z/4\Z$，一是$\Z/2\Z \times \Z/2\Z$。其中$\times$可暂理解为向量空间的直和。我们需要检查它们确实是不同的，即它们之间不存在同构映射。

如果两个群是同构的，则它们各阶元素的数量应该相同。$\Z/4\Z$有一个1阶元，一个2阶元$g^2$，其余两个是4阶元。而$\Z/2\Z \times \Z/2\Z$有一个1阶元，其余三个是2阶元。因此这两个群是不同的。
此外，存在各阶元素数量相同但不同构的群，但这种情况比较少见。所以一般情况下，对各阶元素计数是区分不同群的好办法。

$\Z/2\Z \times \Z/2\Z$被称为克莱因四元群，可以视其为长方形的对称群。

我们再来看一下以上两个群的子群。对于$\Z/4\Z$来说，它有一个2阶的非平凡子群。
<script type="text/tikz">
\usepackage{amsfonts}
\usetikzlibrary{cd}
\begin{document}
\begin{tikzcd}
\mathbb Z/4\mathbb Z \arrow[d, no head] \\
\mathbb Z/2\mathbb Z \arrow[d, no head] \\
1
\end{tikzcd}
\end{document}
</script>
而对于$\Z/2\Z \times \Z/2\Z$，它有三个2阶的非平凡子群，它的每一个2阶元都生成一个2阶子群。
<script type="text/tikz">
\usepackage{amsfonts}
\usetikzlibrary{cd}
\begin{document}
\begin{tikzcd}
& \mathbb Z/2\mathbb Z \times \mathbb Z/2\mathbb Z \arrow[d, no head] \arrow[ld, no head] \arrow[rd, no head] &  \\
\mathbb Z/2\mathbb Z \arrow[rd, no head] & \mathbb Z/2\mathbb Z \arrow[d, no head] & \mathbb Z/2\mathbb Z \arrow[ld, no head] \\
& 1 &
\end{tikzcd}
\end{document}
</script>

### 正合列（恰当序列）

在群论里，我们称一个由群和群同态组成的序列
$$\begin{CD}
G_0 @>f_1>> G_1 @>f_2>> G_2 @>f_3>> \cdots @>f_n>> G_n
\end{CD}$$
为正合列，当且仅当该序列中的每一个同态的像均等于其下一个同态的核：
$$\mathrm{im}(f_k) = \ker(f_{k+1})$$
正合列可以是有限序列，也可以是无限序列。

以下是正合列的例子：
- 序列$0 \to A \to B$为正合列，当且仅当映射$f: A \to B$为单射。

    这是因为若$\ker(f) = \mathrm{im}(0 \to A) = \{ 0 \}$.
    而$f(x) = f(y) \Rightarrow f(x) - f(y) = f(x - y) = 0 \Rightarrow x - y = 0 \Rightarrow x = y$.
    即$f$是单射。反之若$f$是单射，也容易看出$\ker(f) = \{0\}$.

- 对偶的情形是，若$B \to C \to 0$为正合列，当且仅当$B \to C$为满射。

- 于是，序列$0 \to X \to Y \to 0$为正合列，当且仅当$X \to Y$为双射，在群论的情况下，即同构。

我们称具有如下形式的正合列
$$\begin{CD}
0 @>>> A @>f>> B @>g>> C @>>> 0
\end{CD}$$
为短正合列。如上所述，对任何一个短正合列，$f$必为单射，且$g$必为满射，且$\mathrm{im}(f) = \ker(g)$.

其中$0$代表平凡（加性）群，在积性群的情况下，通常会用$1$代替。

现在考虑这样一个序列
$$\begin{CD}
0 @>>> \Z/2\Z @>>> \Z/4\Z @>>> \Z/2\Z @>>> 0
\end{CD}$$
这是一个短正合列，因为$\Z/4\Z$到$\Z/2\Z$有一个满同态，其核为一个2阶群。

而下面这个序列
$$\begin{CD}
0 @>>> \Z/2\Z @>>> \Z/2\Z \times \Z/2\Z @>>> \Z/2\Z @>>> 0
\end{CD}$$
也是短正合列。这是因为对于任意的$A, B$，我们都可以构造下面这样一个短正合列
$$\begin{CD}
0 @>>> A @>>> A \times B @>>> B @>>> 0
\end{CD}$$
其中$A\times B \to B$就是到$B$的投影映射，而$A \to A\times B$是包含映射。
我们称这样的短正合列是分裂的（参考分裂引理）。

于是我们看到，虽然短正合列两端的群是相同的，其中间的群仍可以不同。
其中一个序列是分裂的，而另一个不是。
在数学中经常犯的一个错误就是无条件的假定一个短正合列是分裂的，这种错误有时还可能比较隐蔽。
无论如何，说任何短正合列都是分裂的显然是不对的。前述内容就是最简单的反例。

### 直积的定义

在给出群直积的更多的例子之前，我们先来给群的直积一个定义。

给定两个群$G, H$，我们总是可以做它们的群直积$G \times H$，得到的结构仍是一个群。
承载此群的集合就是$G$和$H$的笛卡尔积。群乘法是显然的，$(g_1, h_1)(g_2, h_2) = (g_1g_2, h_1h_2)$.

反过来，将一个群视为是群直积通常也是很有用的。让我们假定$G$有子群$A, B$，$A \cap B = 1$且它们是互相对易的，即$\forall a \in A, b \in B, ab = ba$.
如果$G$的每一个元素都有$ab$这样的形式，其中$a \in A, b \in B$. 且这种形式的表示方式是唯一的。则我们有$G \simeq A \times B$.
这是因为我们有一个群同态$\phi: A\times B \to G$，定义为$\phi(a, b) = ab$. 因为$A, B$互相对易，容易验证$\phi$确实是一个群同态。
而且，这个同态还是一个双射，因为$G$中的元素表为$ab$这样的形式的方式是唯一的。$G$有时候也被称为关于其两个子群$A, B$的内直积。

某些情形下，$A, B$对易的条件会被$A, B$在$G$内是正规的这一条件替换。它们是等价的，因为两个交集为$1$的正规子群的元素必是对易的。
比如，考虑对易子$[a, b] := a^{-1}b^{-1}ab$。在$A, B$都是正规子群的情形下，我们有$[a, b] \in A \land [a, b] \in B$. 于是$[a, b] = 1$.
反之，若$A, B$对易，我们就有$gAg^{-1} = abAb^{-1}a^{-1} = A$. 于是$A, B$皆为正规子群。

下面给出直积的一些例子。
- $\R^* \simeq \{1, -1\} \times \R^+$
- $\mathbb C^* \simeq \mathrm S^1 \times \R^+$
    
    这其实就是复数的极坐标分解。

- $\Z/mn\Z \simeq \Z/m\Z \times \Z/n\Z$

    其中$m, n$互素。这是来自中国剩余定理的一个例子。
    $\phi: \Z/mn\Z \to \Z/m\Z \times \Z/n\Z$定义为$\phi(x) = (x,x)$是一个群同态。
    显然$\ker(\phi)$中的元素须为$m$和$n$的倍数，当$m, n$互素时，它就是$mn$的倍数。
    于是$\ker(\phi) = \{0\}$，于是$\phi$是单射。
    又$\Z/mn\Z$与$\Z/m\Z \times \Z/n\Z$有相同的阶，所以$\phi$就成为双射即同构。

    具体的一个例子是$\Z/6\Z \simeq \Z/2\Z \times \Z/3\Z$. 但之前我们看到$\Z/4\Z \nsim \Z/2\Z \times \Z/2\Z$.
    这里的教益是我们不能想当然地认为像前面这样的两个群是不同的。实际上，凯莱就曾经认为$\Z/6\Z$和$\Z/2\Z \times \Z/3\Z$显然是两个群，并由此得到结论说6阶群有三个。我们现在知道这是不对的。

- $(\Z/mn\Z)^* \simeq (\Z/m\Z)^* \times (\Z/n\Z)^*$

    这里$(\Z/m\Z)^*$的意思是我们仅取与$m$互素的那些元素，并考虑它们在乘法下形成的群。

    具体的一个例子是$(\Z/15\Z)^* \simeq (\Z/5\Z)^* \times (\Z/3\Z)^*$. 其中$(\Z/15\Z)^*$的阶为8. 而其余两个群我们在之前已经遇到过，它们的阶分别为4和2.
    由欧拉定理，我们得到$x^8 \equiv 1 \mod 15$. 然而，由于$(\Z/15\Z)^* \simeq \Z/4\Z \times \Z/2\Z$这个分解，我们知道$\Z/4\Z \times \Z/2\Z$这个群的元素的阶必整除4.
    所以实际上我们有$x^4 \equiv 1 \mod 15$. 于是使用像这样的群分解我们可以改进欧拉定理的结果。

以下是一些不那么显然的例子。

- $\mathbb Q^* \simeq \Z/2\Z \times (\Z \oplus \Z \oplus \Z \oplus \cdots)$

    注意任何一个非零的有理数都可以写成$r = \pm 2^a3^b5^c\cdots$这样的形式，其中$a, b, c, \cdots$几乎都是零（即除有限个非零元素外其余都为零）。只要对有理数的分子分母分别做素因子分解即可看出这点。

- 正多面体的对称群

    正六（八）面体有一个24阶的旋转对称群和一个2阶的反射对称群。所以其完整的对称群是一个48阶的群，它分裂为两个群的直积。原因是这两个群是互相对易的（只需验证反射与旋转对易），而且全对称群中的任何一个元素都恰可以写成分别来自此两群的两个元素的乘积。
    
    正十二（二十）面体有一个60阶的旋转对称群和一个2阶的反射对称群。完整的对称群为120阶的，基于同样的原因，它是关于其两子群的内直积。

    正四面体的完整对称群是24阶的，它有一个12阶的旋转对称群。但它不再可以写成两个群的直积了，因为它没有像反射这样的与旋转对易的对称性。

- $(\Z/2\Z)^a \oplus (\Z/3\Z)^b \oplus (\Z/5\Z)^c \oplus \cdots$

    这是复平面上所有单位根的对称群。可以看出以上的群都是互相对易的，且任何一个单位根都可以写成这样的乘积的形式（参考前面中国剩余定理的例子）。因此它也分裂成这些群的直积。

## 正规子群和商群

接下来考虑阶为6的群。容易想到两个例子，一个是$S_3$，这是三个元素的对称群；另一个是$\Z/6\Z \simeq \Z/3\Z \times \Z/2\Z$，是循环群。

以下是这两个群的子群结构。

<script type="text/tikz">
\usepackage{amsfonts}
\usetikzlibrary{cd}
\begin{document}
\begin{tikzcd}
& \mathbb Z/6\mathbb Z \arrow[ld, no head] \arrow[rd, no head] & \\
\mathbb Z/3\mathbb Z \arrow[rd, no head] & & \mathbb Z/2\mathbb Z \arrow[ld, no head] \\
& 1 &
\end{tikzcd}
\end{document}
</script>

<script type="text/tikz">
\usepackage{amsfonts}
\usetikzlibrary{cd}
\begin{document}
\begin{tikzcd}
& S_3 \arrow[ld, no head] \arrow[d, no head] \arrow[rd, no head] \arrow[rrd, no head] &  & \\
{\{1, (123), (132)\}} \arrow[rd, no head] & {\{1, (12)\}} \arrow[d, no head] & {\{1,(13)\}} \arrow[ld, no head] & {\{1,(23)\}} \arrow[lld, no head] \\
& 1 & &
\end{tikzcd}
\end{document}
</script>

现在假定$H$是$G$的子群，我们是否可以构造一个群$G/H$（称为商群）。商群的想法在某种程度上可以说是强制这里的$H$成为单位元。例如$\Z/n\Z$意思就是强制所有$n$的倍数为$0$，我们就得到了所谓的商群，即所有模$n$的整数，其阶为$n$. 我们称之为$\Z$对其子群$n\Z$的商。
我们怎样把这个想法一般化呢？让我们考虑下面这个正合列
$$\begin{CD}
1 @>>> H @>>> G @>>> G/H @>>> 1
\end{CD}$$
这意味着$G$应该有一个到$G/H$的满同态，其核恰好为（或者说同构于）$H$. 这里的一种可能性是令$G/H$为所有$H$的左陪集的集合。这样$G$就通过群乘法作用于$G/H$. 前面我们已经知道了这样的作用是传递的。现在的问题是，我们能将这个集合提升为一个群吗？比如说，我们可能想把群乘法定义为$g_1H \cdot g_2H = g_1g_2H$. 问题在于，有可能存在一个$g_3 = g_1h \in g_1H$，满足$g_3H = g_1H$，这时我们有$g_3g_2H = g_1g_2H$吗？注意这意味着$g_1hg_2H = g_1g_2(g_2^{-1}hg_2)H = g_1g_2H$. 这就是说，如果$\forall h \in H: g_2^{-1}hg_2 \in H$，则上述条件就是成立的，我们的定义就是合理的。实际上，容易验证以下的条件皆是互相等价的：
- $H$是某个映射$G \to X$的核
- $\forall g \in G: gHg^{-1} = H$
- $\forall g \in G: gH = Hg$
- $H$的左陪集和右陪集相同
- 商群$G/H$存在，其群乘法正如上述定义

比如，从第一个条件我们有$\phi(ghg^{-1}) = \phi(g)\phi(h)\phi(g)^{-1} = 1 \Rightarrow ghg^{-1} \in H$. 可以很容易地证明这和其他几个条件都是等价的。如果$H$满足以上五个条件中的任何一个，我们就称$H$是$G$的一个正规子群。所以现在我们可能要问，哪些子群是正规的呢？很显然，如果$G$是阿贝尔的，那么$G$的所有子群都将是正规的。直到现在我们遇到的第一个非阿贝尔群的例子是$S_3$，所以如果我们想找一个非正规子群的例子，$S_3$可能是一个好地方。首先$1$和$S_3$本身显然都是正规的。然后我们有$\{1, (123), (132)\}$，它的阶为3，指标为2。
> 这里指标的意思是其陪集的个数。注意我们不必强调这到底指的是左陪集的个数还是右陪集的个数，它们是相等的。因为我们有一个自然的从左陪集到右陪集的双射$gH \mapsto (gH)^{-1} = Hg^{-1}$. 

我们有：所有指标为2的子群都是正规的。因为其唯二的陪集是$H$和所有不在$H$中的元素。所以$H$的左陪集显然和右陪集相同。

接下来我们再看子群$\{1, (12)\}$，其阶为2，指标为3。这个子群不是正规的，这可以通过显式的检查看出来。它的左陪集为$\{1, (12)\}$，$\{(123), (13)\}$和$\{(132), (23)\}$，而它的右陪集为$\{1, (12)\}$，$\{(123), (23)\}$和$\{(132), (13)\}$.

这只是其中一个2阶子群，其他两个2阶子群又如何呢？实际上它们也都不是正规的，这是因为若$H$是一个子群，则$gHg^{-1}$也是。这被称为$H$关于$g$的共轭子群。稍加思考就会发现，这实际上是群$G$在子群集合上的一个作用$g(H) = gHg^{-1}$. 可以验证，这三个2阶子群正好是$S_3$作用下的一个轨道，而其余正规子群各自形成一个轨道。所以$S_3$的所有子群在其作用下分裂为4个轨道，其中正规子群对应单元素轨道，而2阶子群的轨道中的元素都是互相共轭的。

$G$的共轭作用，某种程度上可以说是$G$的一种对称性。特别是，若$\{1, (12)\}$是非正规的，则与其共轭的其他两个子群也将是非正规的。我们看到，$G$的正规子群恰好是在$G$的共轭作用下不动的那些子群，即$G$的任何元素都将其映射到自身。比如这里$S_3$作用下，$S_3, 1, \{1, (123), (132)\}$都是不动的，它们是正规子群；而$S_3$传递地作用于$\{1, (12)\}, \{1, (13)\}, \{1, (23)\}$这三个元素的集合，它们是非正规子群。

我们看到，如果$G$有一个正规子群$H$，我们就有一个正合列
$$\begin{CD}
1 @>>> H @>>> G @>>> G/H @>>> 1
\end{CD}$$
而且这种情况下，$H$和$G/H$通常都比$G$要小。所以某种程度上我们就将$G$分解成了两个（希望是）更小的（因而也更容易理解的）群。如果运气好的话，我们就可以将关于$G$的问题转化为关于这两个更简单的群的问题。

这里要提醒一下，正如我们在上一节看到的，如果我们知道某个正规子群$H$和其对应的商群$G/H$，并不能唯一决定$G$. 例如$\Z/4\Z$和$\Z/2\Z \times \Z/2\Z$都以$\Z/2\Z$为正规子群和商群，但它们是不同构的。所以即使知道了正规子群$H$和其对应的商群$G/H$，要求可能的$G$在一般情况下也会是比较复杂的问题。在我们讨论8阶群的时候将给出这个问题的一个具体的例子。

## 半直积

我们注意到$S_3$并不是两个更小的群的直积，但可以说是很接近这个直积的感觉了。
设$A = \{1, (12)\}, B = \{1, (123), (132)\}$，则我们有$S_3 = AB$，即每一个$S_3$的元素都可以唯一地表示为$ab$这样的形式，其中$a \in A, b \in B$.
所以我们有一个集合间的映射$A \times B \to S_3$，但它并不是群之间的同态。问题在于子群$A, B$并不对易，换句话说，$ab$不一定等于$ba$.
让我们看一下，当我们尝试做类似$ab$这样的元素的乘法的时候，到底发生了什么。假设我们取$a_1b_1$并令其与$a_2b_2$相乘，并期望得到类似于$a$乘以某元素这样的结果。
注意$a_1b_1a_2b_2 = a_1a_2(a_2^{-1}b_1a_2)b_2$，其中$a_2^{-1}b_1a_2 \in B$. 所以这里我们确实得到了一个来自$A$的元素乘以一个来自$B$的元素这样的形式。
我们将引入记号$y^x := x^{-1}yx$，读者很容易验证其满足$(y_1y_2)^x = y_1^xy_2^x$以及$y^{x_1x_2} = (y^{x_1})^{x_2}$.

现在我们有$G$的一个子群$A$和一个正规子群$B$，满足$G = AB$且这样的分解方式是唯一的。而且，我们还有了一个$A$于$B$上的右作用，其定义为$(b)a = b^a$.
该右作用保持$B$的乘法，即$(b_1b_2)^a = b_1^ab_2^a$.
换言之，我们可以将这个右作用看作是从$A$到以$B$的对称性为元素的群的一个同态。

我们可以问相反的问题，即假定我们没有$G$，假定我们只有群$A$和$B$，且$A$于$B$上有一个保持$B$的乘法的右作用。我们是否可以构造一个群$G$，使得$A$是其子群，$B$是其正规子群，且这个右作用恰是一个共轭呢？
显然，我们可以取$G$为集合$A\times B$，并定义群乘法为$(a_1, b_1)(a_2, b_2) = (a_1a_2, b_1^{a_2}b_2)$，因为若我们希望$A$是$G$的子群且$B$是$G$的正规子群，我们只能这么定义。问题是，这样定义确实令$G$成为一个群了吗？
读者可以检查这样定义的群的单位元为$(1, 1)$，逆元为$(a^{-1}, (b^{-1})^{a^{-1}})$，因此只需检查该群乘法满足结合律。
一方面$((a_1, b_1)(a_2, b_2))(a_3, b_3) = (a_1a_2a_3, (b_1^{a_2}b_2)^{a_3}b_3)$，另一方面$(a_1, b_1)((a_2, b_2)(a_3, b_3)) = (a_1a_2a_3, b_1^{a_2a_3}b_2^{a_3}b_3)$. 容易看出它们实际上是相等的。
所以我们确实得到了一个群$G$，称为$A$和$B$的半直积群。

总之，给定群$A$和$B$，以及$A$于$B$上的一个右作用，我们就可以得到半直积$G = A \ltimes B$. 其中$B$是$G$的正规子群，$A$是$G$的子群，且$G$中的右作用$b \mapsto a^{-1}ba$恰好就是给定的$A$于$B$上的右作用。
当然，如果我们得到一个$A$于$B$上的左作用，我们仍然可以构造一个半直积，记为$B \rtimes A$.
例如，我们有$S_3 \simeq \Z/2\Z\ltimes\Z/3\Z$.

现在我们可以完成对6阶群的分类了，我们将要说明的是，6阶群$G$某种程度上必须为这样的半直积。
首先我们看到，$G$一定有一个3阶元。这是因为$G$的元素的阶为$1, 2, 3, 6$，假设$G$有一个6阶元则它是循环群，因此它就有一个3阶元；否则假设$G$只有$1, 2$阶元则它就成为初等阿贝尔群，其阶为2的幂，这与$G$的阶为6矛盾。
让我们记这个3阶元为$g$，所以$1, g, g^2$就构成一个3阶子群，而且是正规子群，因为其指标为2.
其次，$G$也必有一个2阶元。这是因为要么$G$有一个6阶元，于是它就有一个2阶元；要么它除单位元外皆为3阶元，但3阶元总是与其逆成对出现的，这又与$G$的阶为偶数矛盾。
这就意味着$G$是$A,B$的半直积，其中$A$是一个2阶子群而$B$是一个3阶正规子群。现在我们唯一不确定的事情就是，$A$于$B$上的作用是什么样的。

所以，一个2阶群$\Z/2\Z$可以对一个3阶群$\Z/3\Z$有怎样的作用呢？我们可以考察$\Z/3\Z$的所有自同态，设$g$为$\Z/3\Z$的3阶元，则这个自同态也必须将其映为3阶元，所以要么$g \mapsto g$，要么$g \mapsto g^{-1}$.
既然所有自同态的群是二阶的，而我们知道二阶群之间的同态只有两种（一种是同构，另一种是平凡同态），所以这里的作用也就只有两种。
- $\Z/2\Z$平凡地作用于$\Z/3\Z$

    这种情况下我们得到直积$\Z/6\Z \simeq \Z/2\Z \times \Z/3\Z$.
- $\Z/2\Z$非平凡地作用于$\Z/3\Z$

    我们有$g^h = g^{-1}$，其中$h$是$\Z/2\Z$的生成元，$g$是$\Z/3\Z$的生成元。
    这种情况下我们得到半直积$S_3 \simeq \Z/2\Z \ltimes \Z/3\Z$.

我们以几个半直积的例子结束这一节。

- $ax + b$群

    这是$\R$中所有形如$x \mapsto ax +b$这样的变换构成的群，其中$a \ne 0$.
    在齐次坐标下，这个变换可以写成矩阵$\begin{pmatrix}a & b\\ 0 & 1\end{pmatrix}$.
    它有一个正规子群$\R$，即所有形如$x \mapsto x + b$这样的变换；以及一个子群$\R^*$，即所有$x \mapsto ax$这样的变换，其中$a \ne 0$.
    这两个子群互不对易。我们定义$\R^*$于$\R$上的左作用为$b^a = aba^{-1} = ab$.

- $\R^n$上的等距同构群

    这是上一个例子的推广。其正规子群为$\R^n$上的平移变换群$\R^n$，另一个子群是$\R^n$上的正交变换$O(n)$，它作用于$\R^n$上。
    注意上一个例子类似于这里$n = 1$的情况，只不过那里还允许缩放操作。

- 庞加莱群

    庞加莱群是闵可夫斯基空间$\R^{1,3}$上的等距同构群，它是平移变换群$\R^{1,3}$和洛伦兹群$O(1, 3)$的半直积。

## 群扩张

现在我们来到8阶群$G$的分类。$G$的元素的阶为$1, 2, 4, 8$. 假设$G$没有4阶（因此也没有8阶）元，我们已经知道这种情况下$G = \Z/2\Z \times \Z/2\Z \times \Z/2\Z$.
故我们假定$G$存在4阶元$g$，则$H = \{1, g, g^2, g^3\}$指标为2，因此是一个正规子群。以图表示如下：
$$\begin{CD}
1 @>>> \Z/4\Z @>>> G @>>> \Z/2\Z @>>> 1
\end{CD}$$
我们得到一个短正合列，这是一个典型的扩张问题，即我们知道正合列两端的群，欲求$G$的问题。
如果我们有正合列
$$\begin{CD}
1 @>>> A @>>> G @>>> B @>>> 1
\end{CD}$$
我们就称$G$是$B$经$A$的一个扩张。现在的问题是，在已知$G$为8阶的情况下，我们应该如何分类所有可能的这种扩张呢？
取$A$的一个生成元$a^4 = 1$，并取$b \in G$要求其被映为$B$中的2阶元（注意这并不意味着$b$是2阶的，我们只要求其在$B$中的像为2阶）。
因$A$为正规子群，$b^{-1}ab$就是一个内自同构作用，于是与$a$有相同的阶，即$b^{-1}ab = a$或$a^{-1}$.
又$b^2 \in A$因为其在$B$中的像为$1$（换言之，$b^2 \in \ker(G \to B) = \mathrm{im}(A \to G)$，而这里$A \to G$只是一个平凡嵌入）。
所以$b^2 = 1, a, a^2$或$a^3$. 如果$b^2 = a^3$，我们就将上述讨论中的$a$都换成$a^{-1}$，于是我们可以假定$b^2 = 1, a$或$a^2$.
对$a, b$的各种情况我们列表如下

| $a^4 = 1$ | $b^2 = 1$ | $b^2 = a$ | $b^2 = a^2$ |
| -- | -- | -- | -- |
| $b^{-1}ab = a$ | $\Z/2\Z \times \Z/4\Z$ | $\Z/8\Z$ | $\Z/2\Z \times \Z/4\Z$ |
| $b^{-1}ab = a^{-1}$ | $\Z/2\Z \ltimes \Z/4\Z$ | - | $Q_8$ |

- 在$b^2 = 1$的情况下，即$b$生成一个2阶子群，这是半直积的情况。如果$a, b$是对易的，我们得到直积。
- 在$b^2 = a$的情况下，将其带入$b^{-1}ab = a^{-1}$得到$b^2 = a^{-1}$，于是$a = a^{-1}$，这与$a$是$A$的生成元矛盾。
- 在$b^2 = a^2$且$a,b$对易的情况下，令$c = ab$，于是$c^2 = abab = 1$且$c^{-1}ac = b^{-1}ab = a$. 于是我们回到直积的情况。

上表中的$Q_8$称为四元数群。我们可令$a = \begin{pmatrix}i & 0\\ 0 & -i\end{pmatrix}, b = \begin{pmatrix}0 & 1\\ -1 & 0\end{pmatrix}$. 容易检查$a^4 = 1, b^4 = 1, b^{-1}ab = a^{-1}$.
令$c = \begin{pmatrix}0 & i\\ i & 0\end{pmatrix}, e = \begin{pmatrix}1 & 0\\ 0 & 1\end{pmatrix}$，我们就有$G=\{\pm a, \pm b, \pm c, \pm e\}$是一个8阶群。
通常会用$i, j, k$代替$a, b, c$，并称它们满足如下的关系
$$i^2 = j^2 = k^2 = ijk = -1$$
这个著名的关系是哈密顿于19世纪发现的。

## 四元数

我们实际上可以构造一个环，考虑所有形如$a + bi + cj + dk$这样的矩阵，其中$a, b, c, d$皆为实数。
这同构于$\R^4$，我们可以用$i, j, k$之间的关系定义乘法。
注意这个乘法不满足交换律，实际上$ij = -ji, jk = -kj, ki = -ik$.
这个环同样是由哈密顿发现的，称为哈密顿四元数环。

四元数在某种程度上很像复数，有很多对复数可以做的事情同样可以对四元数做。
回忆复数的定义为形如$a + bi$这样的数，其中$a, b$皆为实数。我们列表对比两者如下

| -- | $\mathbb C$ | $\mathbb H$ |
| -- | -- | -- |
| 定义 | $z = a + bi$ | $z = a + bi + cj + dk$ |
| 共轭 | $\bar z = a - bi \\ z\bar z = a^2 + b^2$ | $\bar z = a - bi - cj - dk \\ z\bar z = a^2 + b^2 + c^2 + d^2 \\ \overline{z_1z_2} = \bar z_2\bar z_1$|
| 范数 | $\|z\| = \sqrt{z\bar z} \\ \|z_1z_2\| = \|z_1\|\|z_2\|$ | $\|z\| = \sqrt{z\bar z} \\ \|z_1z_2\| = \|z_1\|\|z_2\|$ |

我们知道单位复数$|z| = 1$构成一个圆环$S^1$，它实际上是一个群，群乘法就是复数乘法。
类似地对于四元数$|z| = 1$构成一个三维球面$S^3$，它也是一个群。
读者可能猜测所有的$n$维球面都是群，但实际上只在很少的几个维度下，球面才成为群，它们是$S^0, S^1$和$S^3$，其中$S^0$就是$\{\pm 1\}$.
它们分别对应$\R, \mathbb C, \mathbb H$中范数为$1$的情形。

四元数可以很方便地用来描述三维空间中的旋转。实际上我们有$\R^3 = \{bi + cj + dk\}$，即令$a = 0$我们就得以将四元数限制在$\R^3$中。
取$v \in \R^3, g \in S^3 \sub \mathbb H$，按照四元数乘法我们有$gvg^{-1} \in \R^3$；而且该操作保持向量$v$的长度不变，因为$|gvg^{-1}| = |v|$.
实际上，该操作就是三维空间中的旋转。该表示在计算机图形/游戏中有很多应用。因为通常表示一个三维旋转的方法是一个$3 \times 3$的矩阵，而使用四元数表示就只需要$4$个数；而且四元数的乘法要比矩阵的乘法更快一些。

读者可能认为$S^3$就是三维空间中所有旋转构成的群了，但实际上我们得到的是一个从$S^3$到三维旋转群$\mathrm{SO}(3)$的满同态。我们有下面的短正合列
$$\begin{CD}
1 @>>> \pm 1 @>>> S^3 @>>> \mathrm{SO}(3) @>>> 1
\end{CD}$$
这种情况下，我们称$S^3$是$\mathrm{SO}(3)$的二重覆叠，因为这个同态的核为2阶的。实际上，这个二重覆叠和所谓的[Plate trick](https://en.wikipedia.org/wiki/Plate_trick)有直接关系。
这里$S^3$也被物理学家称为自旋群，因其和基本粒子的自旋有关。

这个二重覆叠的另一个应用是我们可以考虑$\mathrm{SO}(3)$的某些有限子群，特别是我们考虑那些对应于正多面体的旋转，它们的阶分别为12，24和60.
我们取这些群在这个二重覆叠映射下的原像，它们是$S^3$的有限子群，其阶为24，48和120，称为二元四面体群，二元八面体群和二元二十面体群。
问题是，这些群是对应的多面体群和$\Z/2\Z$的积吗？答案是否定的，我们看到二元多面体群的2阶元只有一个，即$-1$. 这是因为$z^2 = 1$，同时$z$还要满足$z\bar z = 1$.
于是$z = \bar z$，这说明$z$必须为实数，即$z = \pm 1$. 但如果二元多面体群是某种形式的积，那么它就有许多2阶元（来自其对应的多面体群）。
这说明存在多面体群的一种扩张，它不可以表示为积的形式，我们会在讨论120阶群的时候再回到这个问题。

四元数不止可以用来表示三维空间的旋转，而且还可以用来表示四维空间中的旋转。
考虑$v \in \R^4 = \{a + bi + cj + dk\}$，取$g, h \in S^3$，我们有$v \mapsto gvh^{-1}$保持$v$的长度不变，实际上它是四维空间中的一个旋转。
我们有如下的短正合列
$$\begin{CD}
1 @>>> \Z/2\Z @>>> S^3\times S^3 @>>> \mathrm{SO}(4) @>>> 1
\end{CD}$$
其中$\mathrm{SO}(4) = (S^3\times S^3) / (\Z/2\Z)$.

| 阶 | 群 |
| -- | -- |
| 1 | $1$（平凡群） |
| 2 | $C_2$ |
| 3 | $C_3$ |
| 4 | $C_4, C_2 \times C_2$ |
| 5 | $C_5$ |
| 6 | $C_6 \simeq C_2 \times C_3, S_3$ |
| 7 | $C_7$ |
| 8 | $C_8, C_2 \times C_4, C_2 \times C_2 \times C_2, D_8, Q_8$ |
