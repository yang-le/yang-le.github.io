<!doctype html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <title>杨乐的个人主页</title>
  <meta name="description" content="杨乐的个人主页">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/gh/emareg/classlesscss/docs/classless.min.css,gh/emareg/classlesscss/docs/addons/themes.min.css,gh/emareg/classlesscss/docs/addons/hljs-style.min.css">
</head>

<body>
  <header>
    <nav id="nav">
    </nav>
  </header>

  <main>
    <article id="content">
    </article>
  </main>

  <footer>
    © <time id="year"></time> Yang Le<br>
    Hosted on <a href="https://pages.github.com/">GitHub Pages</a>, with <a href="https://www.jsdelivr.com/">jsDelivr</a> CDN.<br>
    Powered by <a href="https://markdown-it.github.io/">markdown-it</a>, <a href="http://classless.de/">Classless.css</a> and <a href="https://katex.org/" id="KaTeX"></a>.
    <span class="float-right">
      <label for="theme">切换主题</label>
      <select id="theme" onchange="switchTheme(this.value)">
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="sepia">Sepia</option>
        <option value="milligram">Milligram</option>
        <option value="pure">Pure</option>
        <option value="sakura">Sakura</option>
        <option value="skeleton">Skeleton</option>
        <option value="bootstrap">Bootstrap</option>
        <option value="medium">Medium</option>
        <option value="tufte">Tufte</option>
      </select>
    </span>
  </footer>

  <script src="https://cdn.jsdelivr.net/combine/npm/katex@0.13.18,npm/markdown-it@12/dist/markdown-it.min.js,npm/markdown-it-anchor@8/dist/markdownItAnchor.umd.min.js,npm/markdown-it-katexx@3/dist/index.umd.min.js,npm/markdown-it-toc-done-right@4/dist/markdownItTocDoneRight.umd.min.js,npm/markdown-it-footnote@3/dist/markdown-it-footnote.min.js,npm/markdown-it-abbr@1/dist/markdown-it-abbr.min.js,gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
  <script>
    const url = new URL(window.location.href);
    const article = url.searchParams.get('article');
    const markdown = markdownit({
      html: true,
      linkify: true,
      highlight: function (str, lang) {
        if (lang && hljs.getLanguage(lang)) {
          try {
            return hljs.highlight(str, { language: lang }).value;
          } catch (__) { }
        }
        return '';
      }
    }).use(markdownitFootnote).use(markdownitAbbr).use(markdownItKatexx).use(markdownItAnchor).use(markdownItTocDoneRight, { placeholder: '\\@\\[TOC\\](\\(.*\\))?' });

    fetch('https://yang-le.github.io/articles/' + (article ? article : 'home') + '.md')
      .then(response => {
        return response.text();
      }).then(md => {
        content.innerHTML = markdown.render(md);
      });

    fetch('https://yang-le.github.io/nav.md')
      .then(response => {
        return response.text();
      }).then(md => {
        nav.innerHTML = markdown.render(md);
      });

    KaTeX.innerHTML = katex.renderToString('\\KaTeX');
    year.innerHTML = new Date().getFullYear();
    theme.value = localStorage.getItem('theme');
    switchTheme(theme.value);

    function switchTheme(theme) {
      localStorage.setItem('theme', theme);
      document.documentElement.setAttribute('data-theme', theme)
    }
  </script>

  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-73293923-1', 'auto'); ga('send', 'pageview');
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>
</body>

</html>