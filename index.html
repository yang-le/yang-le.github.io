<!doctype html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <title>杨乐的个人主页</title>
  <meta name="description" content="杨乐的个人主页">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.13.13/katex.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/emareg/classlesscss/docs/classless.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/emareg/classlesscss/docs/addons/themes.min.css" rel="stylesheet">
</head>

<body>
  <nav id="nav">
  </nav>

  <main>
    <article id="content">
    </article>
  </main>

  <footer>
    © <time id="year"></time> Yang Le<br>
    Hosted on <a href="https://pages.github.com/">GitHub Pages</a>.<br>
    Powered by <a href="https://marked.js.org/">Marked</a>, <a href="http://classless.de/">Classless.css</a> and <a
      href="https://katex.org/" id="KaTeX"></a>.
    <span class="float-right">
      <label for="theme-sel">切换主题</label>
      <select id="theme-sel" onchange="switchTheme(this.value)">
        <option value="light">Light</option>
        <option value="dark">Dark</option>
        <option value="sepia">Sepia</option>
        <option value="milligram">Milligram</option>
        <option value="pure">Pure</option>
        <option value="sakura">Sakura</option>
        <option value="skeleton">Skeleton</option>
        <option value="bootstrap">Bootstrap</option>
        <option value="medium">Medium</option>
        <option value="tufte">Tufte</option>
      </select>
    </span>
  </footer>

  <script src="https://cdn.bootcdn.net/ajax/libs/marked/2.1.3/marked.min.js"></script>
  <script src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.13.13/katex.min.js"></script>
  <script>
    const url = new URL(window.location.href);
    const article = url.searchParams.get("article");

    fetch("https://yang-le.github.io/articles/" + (article ? article : "home") + ".md")
      .then(response => {
        return response.text();
      }).then(md => {
        content.innerHTML = marked(md.replace(/\$\$([\s\S]+?)\$\$/g, (match, tex) => {
          return "<pre>" + katex.renderToString(tex, { displayMode: true }) + "</pre>";
        }).replace(/\$(.+?)\$/g, (match, tex) => {
          return katex.renderToString(tex);
        }));
      });

    fetch("https://yang-le.github.io/nav.md")
      .then(response => {
        return response.text();
      }).then(md => {
        nav.innerHTML = marked(md);
      });

    KaTeX.innerHTML = katex.renderToString('\\KaTeX');
    year.innerHTML = new Date().getFullYear();

    function switchTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme)
    }
  </script>

  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-73293923-1', 'auto'); ga('send', 'pageview');
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>
</body>

</html>